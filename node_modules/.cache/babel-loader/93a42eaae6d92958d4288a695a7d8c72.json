{"ast":null,"code":"var _jsxFileName = \"/home/rokaia/Documents/Pacify-FrontEnd/src/Containers/FirstWebHome.js\";\nimport React, { Component } from 'react'; // import { Artists } from '../Components/Artists';\n\nimport CardList from '../Components/FavouriteArtistCardList';\nimport './FirstWebHome.css';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\n\nconst MapStateToProps = state => {\n  return {\n    Artists: state.recommend.artists\n  };\n};\n\nconst MapDispatchToProps = dispatch => {\n  return {\n    execute: () => dispatch()\n  };\n};\n\nclass FirstWebHome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      Submitted: false\n    }; // this.handleClick = this.handleClick.bind(this);\n  } // handleClick(){\n  //     this.setState({\n  //       button:!this.state.button\n  //     })\n  //   }\n\n\n  componentDidMount() {\n    console.log(sessionStorage.getItem('token'));\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        'authorization': sessionStorage.getItem('token')\n      }\n    };\n    fetch('http://23.96.41.241/api/select/artists', requestOptions).then(response => {\n      console.log(response);\n      return response.json();\n    }).then(users => {\n      this.setState({\n        list: users.Artists\n      });\n      console.log(users);\n    });\n  }\n\n  SubmitArtists() {\n    console.log('func called');\n    console.log(\"the artists ids are\", this.props.Artists);\n    const requestOptions = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        'authorization': sessionStorage.getItem('token'),\n        body: new URLSearchParams({\n          'likedArtists': this.props.Artists\n        })\n      }\n    };\n    fetch('http://23.96.41.241/api/select/artists', requestOptions);\n    this.setState({\n      Submitted: true\n    }); // .then(response => {\n    //     console.log(response)\n    //     return response.json()\n    // })\n    // .then((users)=>{\n    //     this.setState({list:users.Artists})\n    //     console.log(users)\n    // });\n  }\n\n  render() {\n    if (this.state.Submitted) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"../WebFrame/Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 40\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"first-home tc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"first-h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \" Choose 3 or more artists you like. \"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.SubmitArtists(),\n      className: \"btn btn-succes mb4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(CardList, {\n      list: this.state.list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default connect(MapStateToProps, MapDispatchToProps)(FirstWebHome);","map":{"version":3,"sources":["/home/rokaia/Documents/Pacify-FrontEnd/src/Containers/FirstWebHome.js"],"names":["React","Component","CardList","connect","Link","Redirect","MapStateToProps","state","Artists","recommend","artists","MapDispatchToProps","dispatch","execute","FirstWebHome","constructor","props","list","Submitted","componentDidMount","console","log","sessionStorage","getItem","requestOptions","method","headers","fetch","then","response","json","users","setState","SubmitArtists","body","URLSearchParams","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AACA,OAAOC,QAAP,MAAqB,uCAArB;AACA,OAAO,oBAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,IAAR,EAAeC,QAAf,QAA8B,kBAA9B;;AACA,MAAMC,eAAe,GAAIC,KAAD,IAAU;AAC9B,SAAO;AACHC,IAAAA,OAAO,EAAED,KAAK,CAACE,SAAN,CAAgBC;AADtB,GAAP;AAGH,CAJD;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,IAAa;AACpC,SAAM;AACFC,IAAAA,OAAO,EAAE,MAAKD,QAAQ;AADpB,GAAN;AAGH,CAJD;;AAKA,MAAME,YAAN,SAA2Bb,SAA3B,CAAoC;AAChCc,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKT,KAAL,GAAW;AACRU,MAAAA,IAAI,EAAC,EADG;AAERC,MAAAA,SAAS,EAAC;AAFF,KAAX,CAFc,CAMd;AACH,GAR+B,CAShC;AACA;AACA;AACA;AACA;;;AACAC,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,OAAO,EAAE;AACT,wBAAgB,mCADP;AAET,kBAAU,kBAFD;AAGT,yBAAkBJ,cAAc,CAACC,OAAf,CAAuB,OAAvB;AAHT;AAFU,KAAvB;AAOAI,IAAAA,KAAK,CAAC,wCAAD,EAA2CH,cAA3C,CAAL,CACCI,IADD,CACMC,QAAQ,IAAI;AACdT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;AACA,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAJD,EAKCF,IALD,CAKOG,KAAD,IAAS;AACX,WAAKC,QAAL,CAAc;AAACf,QAAAA,IAAI,EAACc,KAAK,CAACvB;AAAZ,OAAd;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACH,KARD;AASH;;AACDE,EAAAA,aAAa,GAAE;AACXb,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkC,KAAKL,KAAL,CAAWR,OAA7C;AACA,UAAMgB,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,OAAO,EAAE;AACT,wBAAgB,mCADP;AAET,kBAAU,kBAFD;AAGT,yBAAkBJ,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAHT;AAITW,QAAAA,IAAI,EAAE,IAAIC,eAAJ,CAAoB;AACtB,0BAAe,KAAKnB,KAAL,CAAWR;AADJ,SAApB;AAJG;AAFU,KAAvB;AAWAmB,IAAAA,KAAK,CAAC,wCAAD,EAA2CH,cAA3C,CAAL;AACA,SAAKQ,QAAL,CAAc;AAACd,MAAAA,SAAS,EAAC;AAAX,KAAd,EAfW,CAgBX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AACDkB,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAK7B,KAAL,CAAWW,SAAd,EAAwB;AAAC,0BAAM,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN;AAAkD;;AAC3E,wBACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADJ,eAEI;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKe,aAAL,EAArB;AAA2C,MAAA,SAAS,EAAC,oBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAK1B,KAAL,CAAWU,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAYH;;AAxE+B;;AA2EpC,eAAed,OAAO,CAACG,eAAD,EAAiBK,kBAAjB,CAAP,CAA4CG,YAA5C,CAAf","sourcesContent":["import React, {Component} from 'react';\r\n// import { Artists } from '../Components/Artists';\r\nimport CardList from '../Components/FavouriteArtistCardList';\r\nimport './FirstWebHome.css';\r\nimport {connect} from 'react-redux'\r\nimport {Link , Redirect} from 'react-router-dom'\r\nconst MapStateToProps = (state) =>{\r\n    return {\r\n        Artists: state.recommend.artists,\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        execute: ()=> dispatch()\r\n    }\r\n}\r\nclass FirstWebHome extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n           list:[],\r\n           Submitted:false\r\n        }\r\n        // this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    // handleClick(){\r\n    //     this.setState({\r\n    //       button:!this.state.button\r\n    //     })\r\n    //   }\r\n    componentDidMount(){\r\n        console.log(sessionStorage.getItem('token'))\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',  \r\n            'Accept': 'application/json',\r\n            'authorization' : sessionStorage.getItem('token')}\r\n        };\r\n        fetch('http://23.96.41.241/api/select/artists', requestOptions)\r\n        .then(response => {\r\n            console.log(response)\r\n            return response.json()\r\n        })\r\n        .then((users)=>{\r\n            this.setState({list:users.Artists})\r\n            console.log(users)\r\n        });\r\n    }\r\n    SubmitArtists(){\r\n        console.log('func called')\r\n        console.log(\"the artists ids are\",this.props.Artists)\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',  \r\n            'Accept': 'application/json',\r\n            'authorization' : sessionStorage.getItem('token'),\r\n            body: new URLSearchParams({\r\n                'likedArtists':this.props.Artists,\r\n                })\r\n        }\r\n        };\r\n        fetch('http://23.96.41.241/api/select/artists', requestOptions)\r\n        this.setState({Submitted:true})\r\n        // .then(response => {\r\n        //     console.log(response)\r\n        //     return response.json()\r\n        // })\r\n        // .then((users)=>{\r\n        //     this.setState({list:users.Artists})\r\n        //     console.log(users)\r\n        // });\r\n    }\r\n    render(){\r\n        if(this.state.Submitted){return<Redirect to='../WebFrame/Home'></Redirect>}\r\n        return(\r\n            <div className='first-home tc'> \r\n                <h1 className='first-h1'> Choose 3 or more artists you like. </h1>\r\n                <button onClick={()=>this.SubmitArtists()} className='btn btn-succes mb4'>Submit</button>\r\n                <CardList list={this.state.list}></CardList>\r\n\r\n                {/* <button className={this.state.button ? \"buttonTrue\": \"buttonFalse\"} onClick={this.handleClick}>\r\n                    \r\n                </button> */}\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(MapStateToProps,MapDispatchToProps)(FirstWebHome)"]},"metadata":{},"sourceType":"module"}