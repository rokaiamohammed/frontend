{"ast":null,"code":"import _classCallCheck from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';// import { Artists } from '../Components/Artists';\nimport CardList from'../Components/FavouriteArtistCardList';import'./FirstWebHome.css';import{connect}from'react-redux';import{Link,Redirect}from'react-router-dom';var MapStateToProps=function MapStateToProps(state){return{Artists:state.recommend.artists};};var MapDispatchToProps=function MapDispatchToProps(dispatch){return{execute:function execute(){return dispatch();}};};var FirstWebHome=/*#__PURE__*/function(_Component){_inherits(FirstWebHome,_Component);var _super=_createSuper(FirstWebHome);function FirstWebHome(props){var _this;_classCallCheck(this,FirstWebHome);_this=_super.call(this,props);_this.state={list:[],Submitted:false};// this.handleClick = this.handleClick.bind(this);\nreturn _this;}// handleClick(){\n//     this.setState({\n//       button:!this.state.button\n//     })\n//   }\n_createClass(FirstWebHome,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(sessionStorage.getItem('token'));var requestOptions={method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded','Accept':'application/json','authorization':sessionStorage.getItem('token')}};fetch('http://23.96.41.241/api/select/artists',requestOptions).then(function(response){console.log(response);return response.json();}).then(function(users){_this2.setState({list:users.Artists});console.log(users);});}},{key:\"SubmitArtists\",value:function SubmitArtists(){console.log('func called');console.log(\"the artists ids are\",this.props.Artists);var requestOptions={method:'PUT',headers:{'Content-Type':'application/x-www-form-urlencoded','Accept':'application/json','authorization':sessionStorage.getItem('token'),body:new URLSearchParams({'likedArtists':this.props.Artists})}};fetch('http://23.96.41.241/api/select/artists',requestOptions);this.setState({Submitted:true});// .then(response => {\n//     console.log(response)\n//     return response.json()\n// })\n// .then((users)=>{\n//     this.setState({list:users.Artists})\n//     console.log(users)\n// });\n}},{key:\"render\",value:function render(){var _this3=this;if(this.state.Submitted){return/*#__PURE__*/React.createElement(Redirect,{to:\"../WebFrame/Home\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"first-home tc\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"first-h1\"},\" Choose 3 or more artists you like. \"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.SubmitArtists();},className:\"btn btn-succes mb4\"},\"Submit\"),/*#__PURE__*/React.createElement(CardList,{list:this.state.list}));}}]);return FirstWebHome;}(Component);export default connect(MapStateToProps,MapDispatchToProps)(FirstWebHome);","map":{"version":3,"sources":["/home/rokaia/Documents/Pacify-FrontEnd/src/Containers/FirstWebHome.js"],"names":["React","Component","CardList","connect","Link","Redirect","MapStateToProps","state","Artists","recommend","artists","MapDispatchToProps","dispatch","execute","FirstWebHome","props","list","Submitted","console","log","sessionStorage","getItem","requestOptions","method","headers","fetch","then","response","json","users","setState","body","URLSearchParams","SubmitArtists"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n// import { Artists } from '../Components/Artists';\r\nimport CardList from '../Components/FavouriteArtistCardList';\r\nimport './FirstWebHome.css';\r\nimport {connect} from 'react-redux'\r\nimport {Link , Redirect} from 'react-router-dom'\r\nconst MapStateToProps = (state) =>{\r\n    return {\r\n        Artists: state.recommend.artists,\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch) =>{\r\n    return{\r\n        execute: ()=> dispatch()\r\n    }\r\n}\r\nclass FirstWebHome extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n           list:[],\r\n           Submitted:false\r\n        }\r\n        // this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    // handleClick(){\r\n    //     this.setState({\r\n    //       button:!this.state.button\r\n    //     })\r\n    //   }\r\n    componentDidMount(){\r\n        console.log(sessionStorage.getItem('token'))\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',  \r\n            'Accept': 'application/json',\r\n            'authorization' : sessionStorage.getItem('token')}\r\n        };\r\n        fetch('http://23.96.41.241/api/select/artists', requestOptions)\r\n        .then(response => {\r\n            console.log(response)\r\n            return response.json()\r\n        })\r\n        .then((users)=>{\r\n            this.setState({list:users.Artists})\r\n            console.log(users)\r\n        });\r\n    }\r\n    SubmitArtists(){\r\n        console.log('func called')\r\n        console.log(\"the artists ids are\",this.props.Artists)\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',  \r\n            'Accept': 'application/json',\r\n            'authorization' : sessionStorage.getItem('token'),\r\n            body: new URLSearchParams({\r\n                'likedArtists':this.props.Artists,\r\n                })\r\n        }\r\n        };\r\n        fetch('http://23.96.41.241/api/select/artists', requestOptions)\r\n        this.setState({Submitted:true})\r\n        // .then(response => {\r\n        //     console.log(response)\r\n        //     return response.json()\r\n        // })\r\n        // .then((users)=>{\r\n        //     this.setState({list:users.Artists})\r\n        //     console.log(users)\r\n        // });\r\n    }\r\n    render(){\r\n        if(this.state.Submitted){return<Redirect to='../WebFrame/Home'></Redirect>}\r\n        return(\r\n            <div className='first-home tc'> \r\n                <h1 className='first-h1'> Choose 3 or more artists you like. </h1>\r\n                <button onClick={()=>this.SubmitArtists()} className='btn btn-succes mb4'>Submit</button>\r\n                <CardList list={this.state.list}></CardList>\r\n\r\n                {/* <button className={this.state.button ? \"buttonTrue\": \"buttonFalse\"} onClick={this.handleClick}>\r\n                    \r\n                </button> */}\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(MapStateToProps,MapDispatchToProps)(FirstWebHome)"]},"metadata":{},"sourceType":"module"}