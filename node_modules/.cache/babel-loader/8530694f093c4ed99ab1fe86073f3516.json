{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component, cloneElement, isValidElement, createRef } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\nimport ProgressBar from './ProgressBar';\nimport CurrentTime from './CurrentTime';\nimport Duration from './Duration';\nimport VolumeBar from './VolumeBar';\nimport { RHAP_UI } from './constants';\nimport { throttle, getMainLayoutClassName } from './utils';\n\nvar H5AudioPlayer = function (_Component) {\n  _inheritsLoose(H5AudioPlayer, _Component);\n\n  var _super = _createSuper(H5AudioPlayer);\n\n  function H5AudioPlayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"audio\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"progressBar\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastVolume\", _this.props.volume);\n\n    _defineProperty(_assertThisInitialized(_this), \"listenTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"volumeAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"downloadProgressAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      e.stopPropagation();\n      var audio = _this.audio.current;\n\n      if (audio.paused && audio.src) {\n        var audioPromise = audio.play();\n        audioPromise.then(null).catch(function (err) {\n          var onPlayError = _this.props.onPlayError;\n          onPlayError && onPlayError(new Error(err));\n        });\n      } else if (!audio.paused) {\n        audio.pause();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", function () {\n      var audio = _this.audio.current;\n      if (!audio) return false;\n      return !audio.paused && !audio.ended;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickVolumeButton\", function () {\n      var audio = _this.audio.current;\n\n      if (audio.volume > 0) {\n        _this.lastVolume = audio.volume;\n        audio.volume = 0;\n      } else {\n        audio.volume = _this.lastVolume;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMuteChange\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickLoopButton\", function () {\n      _this.audio.current.loop = !_this.audio.current.loop;\n\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickRewind\", function () {\n      _this.setJumpTime(-_this.props.progressJumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickForward\", function () {\n      _this.setJumpTime(_this.props.progressJumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpTime\", function (time) {\n      var audio = _this.audio.current;\n      var duration = audio.duration,\n          prevTime = audio.currentTime;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        audio.currentTime = currentTime;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpVolume\", function (volume) {\n      var newVolume = _this.audio.current.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      _this.audio.current.volume = newVolume;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === _this.container.current || e.target === _this.progressBar.current) {\n            e.preventDefault();\n\n            _this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          _this.handleClickRewind();\n\n          break;\n\n        case 39:\n          _this.handleClickForward();\n\n          break;\n\n        case 38:\n          e.preventDefault();\n\n          _this.setJumpVolume(_this.props.volumeJumpStep);\n\n          break;\n\n        case 40:\n          e.preventDefault();\n\n          _this.setJumpVolume(-_this.props.volumeJumpStep);\n\n          break;\n\n        case 76:\n          _this.handleClickLoopButton();\n\n          break;\n\n        case 77:\n          _this.handleClickVolumeButton();\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModules\", function (modules) {\n      return modules.map(function (comp, i) {\n        return _this.renderUIModule(comp, i);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModule\", function (comp, key) {\n      var _this$props = _this.props,\n          defaultCurrentTime = _this$props.defaultCurrentTime,\n          progressUpdateInterval = _this$props.progressUpdateInterval,\n          showDownloadProgress = _this$props.showDownloadProgress,\n          showFilledProgress = _this$props.showFilledProgress,\n          defaultDuration = _this$props.defaultDuration,\n          customIcons = _this$props.customIcons,\n          showSkipControls = _this$props.showSkipControls,\n          onClickPrevious = _this$props.onClickPrevious,\n          onClickNext = _this$props.onClickNext,\n          showJumpControls = _this$props.showJumpControls,\n          customAdditionalControls = _this$props.customAdditionalControls,\n          customVolumeControls = _this$props.customVolumeControls,\n          muted = _this$props.muted,\n          volumeProp = _this$props.volume,\n          loopProp = _this$props.loop;\n\n      switch (comp) {\n        case RHAP_UI.CURRENT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-time\",\n            className: \"rhap_time rhap_current-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: false,\n            defaultCurrentTime: defaultCurrentTime\n          }));\n\n        case RHAP_UI.CURRENT_LEFT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-left-time\",\n            className: \"rhap_time rhap_current-left-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: true,\n            defaultCurrentTime: defaultCurrentTime\n          }));\n\n        case RHAP_UI.PROGRESS_BAR:\n          return React.createElement(ProgressBar, {\n            key: key,\n            ref: _this.progressBar,\n            audio: _this.audio.current,\n            progressUpdateInterval: progressUpdateInterval,\n            showDownloadProgress: showDownloadProgress,\n            showFilledProgress: showFilledProgress\n          });\n\n        case RHAP_UI.DURATION:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_time rhap_total-time\"\n          }, React.createElement(Duration, {\n            audio: _this.audio.current,\n            defaultDuration: defaultDuration\n          }));\n\n        case RHAP_UI.ADDITIONAL_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_additional-controls\"\n          }, _this.renderUIModules(customAdditionalControls));\n\n        case RHAP_UI.MAIN_CONTROLS:\n          {\n            var isPlaying = _this.isPlaying();\n\n            var actionIcon;\n\n            if (isPlaying) {\n              actionIcon = customIcons.pause ? customIcons.pause : React.createElement(Icon, {\n                icon: pauseCircle\n              });\n            } else {\n              actionIcon = customIcons.play ? customIcons.play : React.createElement(Icon, {\n                icon: playCircle\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_main-controls\"\n            }, showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Previous\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              onClick: onClickPrevious\n            }, customIcons.previous ? customIcons.previous : React.createElement(Icon, {\n              icon: skipPrevious\n            })), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Rewind\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n              onClick: _this.handleClickRewind\n            }, customIcons.rewind ? customIcons.rewind : React.createElement(Icon, {\n              icon: rewind\n            })), React.createElement(\"button\", {\n              \"aria-label\": isPlaying ? 'Pause' : 'Play',\n              className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n              onClick: _this.togglePlay\n            }, actionIcon), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Forward\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n              onClick: _this.handleClickForward\n            }, customIcons.forward ? customIcons.forward : React.createElement(Icon, {\n              icon: fastForward\n            })), showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Skip\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              onClick: onClickNext\n            }, customIcons.next ? customIcons.next : React.createElement(Icon, {\n              icon: skipNext\n            })));\n          }\n\n        case RHAP_UI.VOLUME_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_volume-controls\"\n          }, _this.renderUIModules(customVolumeControls));\n\n        case RHAP_UI.LOOP:\n          {\n            var loop = _this.audio.current ? _this.audio.current.loop : loopProp;\n            var loopIcon;\n\n            if (loop) {\n              loopIcon = customIcons.loop ? customIcons.loop : React.createElement(Icon, {\n                icon: repeat\n              });\n            } else {\n              loopIcon = customIcons.loopOff ? customIcons.loopOff : React.createElement(Icon, {\n                icon: repeatOff\n              });\n            }\n\n            return React.createElement(\"button\", {\n              key: key,\n              \"aria-label\": loop ? 'Enable Loop' : 'Disable Loop',\n              className: \"rhap_button-clear rhap_repeat-button\",\n              onClick: _this.handleClickLoopButton\n            }, loopIcon);\n          }\n\n        case RHAP_UI.VOLUME:\n          {\n            var _ref = _this.audio.current || {},\n                _ref$volume = _ref.volume,\n                volume = _ref$volume === void 0 ? muted ? 0 : volumeProp : _ref$volume;\n\n            var volumeIcon;\n\n            if (volume) {\n              volumeIcon = customIcons.volume ? customIcons.volume : React.createElement(Icon, {\n                icon: volumeHigh\n              });\n            } else {\n              volumeIcon = customIcons.volume ? customIcons.volumeMute : React.createElement(Icon, {\n                icon: volumeMute\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_volume-container\"\n            }, React.createElement(\"button\", {\n              \"aria-label\": volume ? 'Mute' : 'Unmute',\n              onClick: _this.handleClickVolumeButton,\n              className: \"rhap_button-clear rhap_volume-button\"\n            }, volumeIcon), React.createElement(VolumeBar, {\n              audio: _this.audio.current,\n              volume: volume,\n              onMuteChange: _this.handleMuteChange\n            }));\n          }\n\n        default:\n          if (!isValidElement(comp)) {\n            return null;\n          }\n\n          return comp.key ? comp : cloneElement(comp, {\n            key: key\n          });\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = H5AudioPlayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.forceUpdate();\n    var audio = this.audio.current;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', function (e) {\n      _this2.props.onError && _this2.props.onError(e);\n    });\n    audio.addEventListener('canplay', function (e) {\n      _this2.props.onCanPlay && _this2.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', function (e) {\n      _this2.props.onCanPlayThrough && _this2.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', function (e) {\n      _this2.forceUpdate();\n\n      _this2.props.onPlay && _this2.props.onPlay(e);\n    });\n    audio.addEventListener('abort', function (e) {\n      var autoPlayAfterSrcChange = _this2.props.autoPlayAfterSrcChange;\n\n      if (autoPlayAfterSrcChange) {\n        audio.play();\n      } else {\n        _this2.forceUpdate();\n      }\n\n      _this2.props.onAbort && _this2.props.onAbort(e);\n    });\n    audio.addEventListener('ended', function (e) {\n      _this2.props.onEnded && _this2.props.onEnded(e);\n    });\n    audio.addEventListener('pause', function (e) {\n      if (!_this2.audio) return;\n\n      _this2.forceUpdate();\n\n      _this2.props.onPause && _this2.props.onPause(e);\n    });\n    audio.addEventListener('timeupdate', throttle(function (e) {\n      _this2.props.onListen && _this2.props.onListen(e);\n    }, this.props.listenInterval));\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        src = _this$props2.src,\n        loopProp = _this$props2.loop,\n        preload = _this$props2.preload,\n        autoPlay = _this$props2.autoPlay,\n        crossOrigin = _this$props2.crossOrigin,\n        mediaGroup = _this$props2.mediaGroup,\n        header = _this$props2.header,\n        footer = _this$props2.footer,\n        layout = _this$props2.layout,\n        customProgressBarSection = _this$props2.customProgressBarSection,\n        customControlsSection = _this$props2.customControlsSection,\n        children = _this$props2.children,\n        style = _this$props2.style;\n    var loop = this.audio.current ? this.audio.current.loop : loopProp;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \" + className,\n      onKeyDown: this.handleKeyDown,\n      ref: this.container,\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: loop,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: this.audio\n    }, children), header && React.createElement(\"div\", {\n      className: \"rhap_header\"\n    }, header), React.createElement(\"div\", {\n      className: \"rhap_main \" + getMainLayoutClassName(layout)\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, this.renderUIModules(customProgressBarSection)), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, this.renderUIModules(customControlsSection))), footer && React.createElement(\"div\", {\n      className: \"rhap_footer\"\n    }, footer));\n  };\n\n  return H5AudioPlayer;\n}(Component);\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  defaultCurrentTime: '--:--',\n  defaultDuration: '--:--',\n  volume: 1,\n  className: '',\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true,\n  showFilledProgress: true,\n  customIcons: {},\n  customProgressBarSection: [RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION],\n  customControlsSection: [RHAP_UI.ADDITIONAL_CONTROLS, RHAP_UI.MAIN_CONTROLS, RHAP_UI.VOLUME_CONTROLS],\n  customAdditionalControls: [RHAP_UI.LOOP],\n  customVolumeControls: [RHAP_UI.VOLUME],\n  layout: 'stacked'\n});\n\nexport default H5AudioPlayer;\nexport { RHAP_UI };","map":{"version":3,"sources":["/home/rokaia/Documents/Pacify-FrontEnd/node_modules/react-h5-audio-player/es/index.js"],"names":["_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","_inheritsLoose","_defineProperty","_createSuper","Derived","Super","result","_isNativeReflectConstruct","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","React","Component","cloneElement","isValidElement","createRef","Icon","playCircle","pauseCircle","skipPrevious","skipNext","fastForward","rewind","volumeHigh","volumeMute","repeat","repeatOff","ProgressBar","CurrentTime","Duration","VolumeBar","RHAP_UI","throttle","getMainLayoutClassName","H5AudioPlayer","_Component","_super","_this","_len","length","args","Array","_key","concat","props","volume","stopPropagation","audio","current","paused","src","audioPromise","play","then","catch","err","onPlayError","Error","pause","ended","lastVolume","forceUpdate","loop","setJumpTime","progressJumpStep","time","duration","prevTime","currentTime","isFinite","newVolume","keyCode","target","container","progressBar","preventDefault","togglePlay","handleClickRewind","handleClickForward","setJumpVolume","volumeJumpStep","handleClickLoopButton","handleClickVolumeButton","modules","map","comp","i","renderUIModule","key","_this$props","defaultCurrentTime","progressUpdateInterval","showDownloadProgress","showFilledProgress","defaultDuration","customIcons","showSkipControls","onClickPrevious","onClickNext","showJumpControls","customAdditionalControls","customVolumeControls","muted","volumeProp","loopProp","CURRENT_TIME","createElement","id","className","isLeftTime","CURRENT_LEFT_TIME","PROGRESS_BAR","ref","DURATION","ADDITIONAL_CONTROLS","renderUIModules","MAIN_CONTROLS","isPlaying","actionIcon","icon","onClick","previous","forward","next","VOLUME_CONTROLS","LOOP","loopIcon","loopOff","VOLUME","_ref","_ref$volume","volumeIcon","onMuteChange","handleMuteChange","_proto","componentDidMount","_this2","addEventListener","onError","onCanPlay","onCanPlayThrough","onPlay","autoPlayAfterSrcChange","onAbort","onEnded","onPause","onListen","listenInterval","render","_this$props2","preload","autoPlay","crossOrigin","mediaGroup","header","footer","layout","customProgressBarSection","customControlsSection","children","style","role","tabIndex","onKeyDown","handleKeyDown","controls"],"mappings":"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","sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, cloneElement, isValidElement, createRef } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\nimport ProgressBar from './ProgressBar';\nimport CurrentTime from './CurrentTime';\nimport Duration from './Duration';\nimport VolumeBar from './VolumeBar';\nimport { RHAP_UI } from './constants';\nimport { throttle, getMainLayoutClassName } from './utils';\n\nvar H5AudioPlayer = function (_Component) {\n  _inheritsLoose(H5AudioPlayer, _Component);\n\n  var _super = _createSuper(H5AudioPlayer);\n\n  function H5AudioPlayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"audio\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"progressBar\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastVolume\", _this.props.volume);\n\n    _defineProperty(_assertThisInitialized(_this), \"listenTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"volumeAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"downloadProgressAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      e.stopPropagation();\n      var audio = _this.audio.current;\n\n      if (audio.paused && audio.src) {\n        var audioPromise = audio.play();\n        audioPromise.then(null).catch(function (err) {\n          var onPlayError = _this.props.onPlayError;\n          onPlayError && onPlayError(new Error(err));\n        });\n      } else if (!audio.paused) {\n        audio.pause();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", function () {\n      var audio = _this.audio.current;\n      if (!audio) return false;\n      return !audio.paused && !audio.ended;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickVolumeButton\", function () {\n      var audio = _this.audio.current;\n\n      if (audio.volume > 0) {\n        _this.lastVolume = audio.volume;\n        audio.volume = 0;\n      } else {\n        audio.volume = _this.lastVolume;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMuteChange\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickLoopButton\", function () {\n      _this.audio.current.loop = !_this.audio.current.loop;\n\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickRewind\", function () {\n      _this.setJumpTime(-_this.props.progressJumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickForward\", function () {\n      _this.setJumpTime(_this.props.progressJumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpTime\", function (time) {\n      var audio = _this.audio.current;\n      var duration = audio.duration,\n          prevTime = audio.currentTime;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        audio.currentTime = currentTime;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpVolume\", function (volume) {\n      var newVolume = _this.audio.current.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      _this.audio.current.volume = newVolume;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === _this.container.current || e.target === _this.progressBar.current) {\n            e.preventDefault();\n\n            _this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          _this.handleClickRewind();\n\n          break;\n\n        case 39:\n          _this.handleClickForward();\n\n          break;\n\n        case 38:\n          e.preventDefault();\n\n          _this.setJumpVolume(_this.props.volumeJumpStep);\n\n          break;\n\n        case 40:\n          e.preventDefault();\n\n          _this.setJumpVolume(-_this.props.volumeJumpStep);\n\n          break;\n\n        case 76:\n          _this.handleClickLoopButton();\n\n          break;\n\n        case 77:\n          _this.handleClickVolumeButton();\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModules\", function (modules) {\n      return modules.map(function (comp, i) {\n        return _this.renderUIModule(comp, i);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModule\", function (comp, key) {\n      var _this$props = _this.props,\n          defaultCurrentTime = _this$props.defaultCurrentTime,\n          progressUpdateInterval = _this$props.progressUpdateInterval,\n          showDownloadProgress = _this$props.showDownloadProgress,\n          showFilledProgress = _this$props.showFilledProgress,\n          defaultDuration = _this$props.defaultDuration,\n          customIcons = _this$props.customIcons,\n          showSkipControls = _this$props.showSkipControls,\n          onClickPrevious = _this$props.onClickPrevious,\n          onClickNext = _this$props.onClickNext,\n          showJumpControls = _this$props.showJumpControls,\n          customAdditionalControls = _this$props.customAdditionalControls,\n          customVolumeControls = _this$props.customVolumeControls,\n          muted = _this$props.muted,\n          volumeProp = _this$props.volume,\n          loopProp = _this$props.loop;\n\n      switch (comp) {\n        case RHAP_UI.CURRENT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-time\",\n            className: \"rhap_time rhap_current-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: false,\n            defaultCurrentTime: defaultCurrentTime\n          }));\n\n        case RHAP_UI.CURRENT_LEFT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-left-time\",\n            className: \"rhap_time rhap_current-left-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: true,\n            defaultCurrentTime: defaultCurrentTime\n          }));\n\n        case RHAP_UI.PROGRESS_BAR:\n          return React.createElement(ProgressBar, {\n            key: key,\n            ref: _this.progressBar,\n            audio: _this.audio.current,\n            progressUpdateInterval: progressUpdateInterval,\n            showDownloadProgress: showDownloadProgress,\n            showFilledProgress: showFilledProgress\n          });\n\n        case RHAP_UI.DURATION:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_time rhap_total-time\"\n          }, React.createElement(Duration, {\n            audio: _this.audio.current,\n            defaultDuration: defaultDuration\n          }));\n\n        case RHAP_UI.ADDITIONAL_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_additional-controls\"\n          }, _this.renderUIModules(customAdditionalControls));\n\n        case RHAP_UI.MAIN_CONTROLS:\n          {\n            var isPlaying = _this.isPlaying();\n\n            var actionIcon;\n\n            if (isPlaying) {\n              actionIcon = customIcons.pause ? customIcons.pause : React.createElement(Icon, {\n                icon: pauseCircle\n              });\n            } else {\n              actionIcon = customIcons.play ? customIcons.play : React.createElement(Icon, {\n                icon: playCircle\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_main-controls\"\n            }, showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Previous\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              onClick: onClickPrevious\n            }, customIcons.previous ? customIcons.previous : React.createElement(Icon, {\n              icon: skipPrevious\n            })), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Rewind\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n              onClick: _this.handleClickRewind\n            }, customIcons.rewind ? customIcons.rewind : React.createElement(Icon, {\n              icon: rewind\n            })), React.createElement(\"button\", {\n              \"aria-label\": isPlaying ? 'Pause' : 'Play',\n              className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n              onClick: _this.togglePlay\n            }, actionIcon), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Forward\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n              onClick: _this.handleClickForward\n            }, customIcons.forward ? customIcons.forward : React.createElement(Icon, {\n              icon: fastForward\n            })), showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Skip\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              onClick: onClickNext\n            }, customIcons.next ? customIcons.next : React.createElement(Icon, {\n              icon: skipNext\n            })));\n          }\n\n        case RHAP_UI.VOLUME_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_volume-controls\"\n          }, _this.renderUIModules(customVolumeControls));\n\n        case RHAP_UI.LOOP:\n          {\n            var loop = _this.audio.current ? _this.audio.current.loop : loopProp;\n            var loopIcon;\n\n            if (loop) {\n              loopIcon = customIcons.loop ? customIcons.loop : React.createElement(Icon, {\n                icon: repeat\n              });\n            } else {\n              loopIcon = customIcons.loopOff ? customIcons.loopOff : React.createElement(Icon, {\n                icon: repeatOff\n              });\n            }\n\n            return React.createElement(\"button\", {\n              key: key,\n              \"aria-label\": loop ? 'Enable Loop' : 'Disable Loop',\n              className: \"rhap_button-clear rhap_repeat-button\",\n              onClick: _this.handleClickLoopButton\n            }, loopIcon);\n          }\n\n        case RHAP_UI.VOLUME:\n          {\n            var _ref = _this.audio.current || {},\n                _ref$volume = _ref.volume,\n                volume = _ref$volume === void 0 ? muted ? 0 : volumeProp : _ref$volume;\n\n            var volumeIcon;\n\n            if (volume) {\n              volumeIcon = customIcons.volume ? customIcons.volume : React.createElement(Icon, {\n                icon: volumeHigh\n              });\n            } else {\n              volumeIcon = customIcons.volume ? customIcons.volumeMute : React.createElement(Icon, {\n                icon: volumeMute\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_volume-container\"\n            }, React.createElement(\"button\", {\n              \"aria-label\": volume ? 'Mute' : 'Unmute',\n              onClick: _this.handleClickVolumeButton,\n              className: \"rhap_button-clear rhap_volume-button\"\n            }, volumeIcon), React.createElement(VolumeBar, {\n              audio: _this.audio.current,\n              volume: volume,\n              onMuteChange: _this.handleMuteChange\n            }));\n          }\n\n        default:\n          if (!isValidElement(comp)) {\n            return null;\n          }\n\n          return comp.key ? comp : cloneElement(comp, {\n            key: key\n          });\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = H5AudioPlayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.forceUpdate();\n    var audio = this.audio.current;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', function (e) {\n      _this2.props.onError && _this2.props.onError(e);\n    });\n    audio.addEventListener('canplay', function (e) {\n      _this2.props.onCanPlay && _this2.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', function (e) {\n      _this2.props.onCanPlayThrough && _this2.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', function (e) {\n      _this2.forceUpdate();\n\n      _this2.props.onPlay && _this2.props.onPlay(e);\n    });\n    audio.addEventListener('abort', function (e) {\n      var autoPlayAfterSrcChange = _this2.props.autoPlayAfterSrcChange;\n\n      if (autoPlayAfterSrcChange) {\n        audio.play();\n      } else {\n        _this2.forceUpdate();\n      }\n\n      _this2.props.onAbort && _this2.props.onAbort(e);\n    });\n    audio.addEventListener('ended', function (e) {\n      _this2.props.onEnded && _this2.props.onEnded(e);\n    });\n    audio.addEventListener('pause', function (e) {\n      if (!_this2.audio) return;\n\n      _this2.forceUpdate();\n\n      _this2.props.onPause && _this2.props.onPause(e);\n    });\n    audio.addEventListener('timeupdate', throttle(function (e) {\n      _this2.props.onListen && _this2.props.onListen(e);\n    }, this.props.listenInterval));\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        src = _this$props2.src,\n        loopProp = _this$props2.loop,\n        preload = _this$props2.preload,\n        autoPlay = _this$props2.autoPlay,\n        crossOrigin = _this$props2.crossOrigin,\n        mediaGroup = _this$props2.mediaGroup,\n        header = _this$props2.header,\n        footer = _this$props2.footer,\n        layout = _this$props2.layout,\n        customProgressBarSection = _this$props2.customProgressBarSection,\n        customControlsSection = _this$props2.customControlsSection,\n        children = _this$props2.children,\n        style = _this$props2.style;\n    var loop = this.audio.current ? this.audio.current.loop : loopProp;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \" + className,\n      onKeyDown: this.handleKeyDown,\n      ref: this.container,\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: loop,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: this.audio\n    }, children), header && React.createElement(\"div\", {\n      className: \"rhap_header\"\n    }, header), React.createElement(\"div\", {\n      className: \"rhap_main \" + getMainLayoutClassName(layout)\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, this.renderUIModules(customProgressBarSection)), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, this.renderUIModules(customControlsSection))), footer && React.createElement(\"div\", {\n      className: \"rhap_footer\"\n    }, footer));\n  };\n\n  return H5AudioPlayer;\n}(Component);\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  defaultCurrentTime: '--:--',\n  defaultDuration: '--:--',\n  volume: 1,\n  className: '',\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true,\n  showFilledProgress: true,\n  customIcons: {},\n  customProgressBarSection: [RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION],\n  customControlsSection: [RHAP_UI.ADDITIONAL_CONTROLS, RHAP_UI.MAIN_CONTROLS, RHAP_UI.VOLUME_CONTROLS],\n  customAdditionalControls: [RHAP_UI.LOOP],\n  customVolumeControls: [RHAP_UI.VOLUME],\n  layout: 'stacked'\n});\n\nexport default H5AudioPlayer;\nexport { RHAP_UI };"]},"metadata":{},"sourceType":"module"}