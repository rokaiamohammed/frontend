{"ast":null,"code":"import _defineProperty from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/rokaia/Documents/Pacify-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./SignUp.css';import{Link,Redirect}from'react-router-dom';var SignUpForm=/*#__PURE__*/function(_Component){_inherits(SignUpForm,_Component);var _super=_createSuper(SignUpForm);function SignUpForm(){var _this;_classCallCheck(this,SignUpForm);_this=_super.call(this);_this.onSignUpChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.validate=function(){var eError='';var cError='';var nError='';var pError='';var gError='';if(!_this.state.email.includes(\"@\")){eError=\"Invalid email! Please enter the correct email address.\";}if(!_this.state.confirmEmail.includes(\"@\")){cError=\"Invalid email! Please enter the correct email address.\";}if(_this.state.confirmEmail!=_this.state.email){cError=\"Please confirm your email address.\";}if(!_this.state.nickName){nError='What should we call you?';}if(!_this.state.gender){gError='Please select your gender.';}if(!_this.state.password){pError='Please enter your password.';}if(_this.state.password.length<8&&_this.state.password.length>=1){pError='The Password is too short.';}if(eError||pError||cError||nError||gError){_this.setState({emailError:eError,passwordError:pError});_this.setState({confirmEmailError:cError,nickError:nError,genderError:gError});return false;}return true;};_this.state={email:'',confirmEmail:'',password:'',nickName:'',date:'',gender:'',emailError:\"\",passwordError:\"\",nickError:\"\",confirmEmailError:\"\",genderError:\"\",checked:true,MockBack:false,SignedUp:false};_this.SubmitForm=_this.SubmitForm.bind(_assertThisInitialized(_this));return _this;}_createClass(SignUpForm,[{key:\"SubmitForm\",value:function SubmitForm(event){var _this2=this;event.preventDefault();var isValid=this.validate();if(isValid){console.log(this.state);// clear form\nthis.setState({emailError:'',passwordError:''});this.setState({confirmEmailError:'',nickError:'',genderError:''});}else{console.log('Invalid Form');}var _this$state=this.state,email=_this$state.email,confirmEmail=_this$state.confirmEmail,password=_this$state.password,nickName=_this$state.nickName,date=_this$state.date,gender=_this$state.gender,MockBack=_this$state.MockBack,data=_this$state.data;// if (email == 'found' && confirmEmail == 'found' && password == 'admin' && nickName == 'found' && date=='06/07/1999' && gender=='Male'  && MockBack ){\n//     this.setState({SignedUp: true})\n//     sessionStorage.setItem(\"token\",\"asdfjfskfbsfgyfewjsfdk\")\n// }\nif(!MockBack){var requestOptions={method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded','Accept':'application/json'},body:new URLSearchParams({'email':email,'confirmEmail':confirmEmail,'password':password,'nickname':nickName,'birthdate':date,'gender':gender})};console.log(requestOptions.body);fetch('http://23.96.41.241/api/signup',requestOptions).then(console.log(\"fetching successfuly\")).then(function(response){if(response.status<200||response.status>=300){throw new Error(response.statusText);}return response.json();}).catch(function(error){console.log(error);}).then(function(token){console.log('the token is ',token);sessionStorage.setItem('token',token);if(token){_this2.setState({SignedUp:true});}});}var token=sessionStorage.getItem('token');console.log(token);}},{key:\"render\",value:function render(){var _this3=this,_React$createElement,_React$createElement2,_React$createElement3,_React$createElement4,_React$createElement5;if(this.state.SignedUp==true){return/*#__PURE__*/React.createElement(Redirect,{to:\"/WebFrame\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"tl\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.SubmitForm,className:\"tl\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"input\",(_React$createElement={className:\"SignUp_input\",type:\"text\",name:\"email\",placeholder:\"Email address \"},_defineProperty(_React$createElement,\"className\",\"form-control\"),_defineProperty(_React$createElement,\"value\",this.state.email),_defineProperty(_React$createElement,\"onChange\",function onChange(event){return _this3.onSignUpChange(event);}),_React$createElement))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12,color:\"red\"}},this.state.emailError),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"input\",(_React$createElement2={type:\"text\",className:\"tl\",name:\"confirmEmail\",placeholder:\"Confirm email\"},_defineProperty(_React$createElement2,\"className\",\"form-control\"),_defineProperty(_React$createElement2,\"value\",this.state.confirmEmail),_defineProperty(_React$createElement2,\"onChange\",function onChange(event){return _this3.onSignUpChange(event);}),_React$createElement2))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12,color:\"red\"}},this.state.confirmEmailError),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"input\",(_React$createElement3={type:\"password\",className:\"SignUp_input\",name:\"password\",placeholder:\"Password\"},_defineProperty(_React$createElement3,\"className\",\"form-control\"),_defineProperty(_React$createElement3,\"value\",this.state.password),_defineProperty(_React$createElement3,\"onChange\",function onChange(event){return _this3.onSignUpChange(event);}),_React$createElement3))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12,color:\"red\"}},this.state.passwordError),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"input\",(_React$createElement4={className:\"SignUp_input\",type:\"text\",name:\"nickName\",placeholder:\"What should we call you?\"},_defineProperty(_React$createElement4,\"className\",\"form-control\"),_defineProperty(_React$createElement4,\"value\",this.state.nickName),_defineProperty(_React$createElement4,\"onChange\",function onChange(event){return _this3.onSignUpChange(event);}),_React$createElement4))),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12,color:\"red\"}},this.state.nickError),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"label\",{className:\"SignUp_birth_label\"},\" Date of birth    \"),/*#__PURE__*/React.createElement(\"input\",(_React$createElement5={type:\"date\",name:\"date\",className:\"SignUp_input\",placeholder:\"Date\"},_defineProperty(_React$createElement5,\"className\",\"form-control\"),_defineProperty(_React$createElement5,\"min\",\"1950-01-01\"),_defineProperty(_React$createElement5,\"max\",\"2010-12-31\"),_defineProperty(_React$createElement5,\"required\",true),_defineProperty(_React$createElement5,\"value\",this.state.date),_defineProperty(_React$createElement5,\"onChange\",function onChange(event){return _this3.onSignUpChange(event);}),_React$createElement5))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"row\",className:\"tl\"},/*#__PURE__*/React.createElement(\"p\",_defineProperty({className:\"SignUp_p_gray\"},\"className\",\"tl\"),/*#__PURE__*/React.createElement(\"label\",{class:\"SignUp_radiolabel\"},/*#__PURE__*/React.createElement(\"input\",{className:\"SignUp_input\",type:\"radio\",name:\"gender\",value:\"male\",onChange:function onChange(event){return _this3.onSignUpChange(event);}}),\"Male\"),/*#__PURE__*/React.createElement(\"label\",{class:\"SignUp_radiolabel\"},/*#__PURE__*/React.createElement(\"input\",{className:\"SignUp_input\",type:\"radio\",name:\"gender\",value:\"female\",onChange:function onChange(event){return _this3.onSignUpChange(event);}}),\"Female\"),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:12,color:\"red\"}},this.state.genderError))),/*#__PURE__*/React.createElement(\"div\",_defineProperty({class:\"row\"},\"class\",\"form-check\"),/*#__PURE__*/React.createElement(\"p\",{className:\"SignUp_p_gray_label\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"SignUp_input\",type:\"checkbox\",name:\"checked\",value:this.state.checked,onChange:function onChange(event){return _this3.onSignUpChange(event);}}),\"Share my registration data with Spotify's content providers for marketing purposes.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"tc\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",_defineProperty({className:\"tc\"},\"className\",\"SignUp_p_black\"),\"By clicking on Sign up, you agree to Spotify's \",/*#__PURE__*/React.createElement(\"a\",{className:\"SignUp_a\",href:\"#\"},\"Terms and Conditions of Use\"),\".\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"p\",_defineProperty({className:\"tc\"},\"className\",\"SignUp_p_black\"),\"  To learn more about how Spotify collects, uses, shares and protects your personal data please read Spotify's \",/*#__PURE__*/React.createElement(\"a\",{className:\"SignUp_a\",href:\"#\"},\"Privacy Policy\"),\". \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\" SignUp_button SignUp_button_Signup\"},\" SIGN UP \")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",_defineProperty({className:\"tc\"},\"className\",\"SignUp_p_black\"),\"Already have an account?\",/*#__PURE__*/React.createElement(Link,{to:\"Login\"},/*#__PURE__*/React.createElement(\"a\",{className:\"SignUp_a\",href:\"#\"},\" Login\")))))));}}]);return SignUpForm;}(Component);export default SignUpForm;","map":{"version":3,"sources":["/home/rokaia/Documents/Pacify-FrontEnd/src/Components/SignUpForm.js"],"names":["React","Component","Link","Redirect","SignUpForm","onSignUpChange","event","setState","target","name","value","validate","eError","cError","nError","pError","gError","state","email","includes","confirmEmail","nickName","gender","password","length","emailError","passwordError","confirmEmailError","nickError","genderError","date","checked","MockBack","SignedUp","SubmitForm","bind","preventDefault","isValid","console","log","data","requestOptions","method","headers","body","URLSearchParams","fetch","then","response","status","Error","statusText","json","catch","error","token","sessionStorage","setItem","getItem","fontSize","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './SignUp.css';\r\nimport {Link,Redirect} from 'react-router-dom'\r\n\r\n\r\nclass SignUpForm extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            email: '',\r\n            confirmEmail: '',\r\n            password:'',\r\n            nickName: '',\r\n            date:'',\r\n            gender:'',\r\n            emailError: \"\",\r\n            passwordError: \"\",\r\n            nickError:\"\",\r\n            confirmEmailError:\"\",\r\n            genderError:\"\",\r\n            checked: true,\r\n            MockBack: false,\r\n            SignedUp: false\r\n        }\r\n        this.SubmitForm = this.SubmitForm.bind(this)\r\n    }\r\n\r\n    onSignUpChange=(event)=>{\r\n        this.setState({[event.target.name]: event.target.value })\r\n    }\r\n    validate = () => {\r\n        let eError='';\r\n        let cError='';\r\n        let nError='';\r\n        let pError='';\r\n        let gError='';\r\n        if (!this.state.email.includes(\"@\")) {\r\n            eError = \"Invalid email! Please enter the correct email address.\";\r\n        }\r\n        if (!this.state.confirmEmail.includes(\"@\")) {\r\n            cError = \"Invalid email! Please enter the correct email address.\";\r\n        }\r\n        if (this.state.confirmEmail != this.state.email) {\r\n            cError = \"Please confirm your email address.\";\r\n        }\r\n        if (!this.state.nickName) {\r\n            nError='What should we call you?';\r\n        }\r\n        if (!this.state.gender) {\r\n            gError='Please select your gender.';\r\n        }\r\n        if (!this.state.password){\r\n            pError='Please enter your password.'; \r\n        }\r\n        if(this.state.password.length < 8 && this.state.password.length >= 1 ){\r\n            pError= 'The Password is too short.';\r\n        }\r\n        if(eError || pError || cError || nError || gError){\r\n            this.setState({emailError: eError, passwordError:pError});\r\n            this.setState({confirmEmailError: cError, nickError:nError, genderError:gError});\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    SubmitForm(event){\r\n        event.preventDefault()\r\n        const isValid = this.validate();\r\n        if (isValid) {\r\n        console.log(this.state);\r\n        // clear form\r\n        this.setState({emailError: '', passwordError:''});\r\n        this.setState({confirmEmailError: '', nickError:'', genderError:''});\r\n        }\r\n        else{\r\n            console.log('Invalid Form');\r\n        }\r\n        const {email ,confirmEmail, password, nickName,date,gender, MockBack,data} = this.state\r\n        // if (email == 'found' && confirmEmail == 'found' && password == 'admin' && nickName == 'found' && date=='06/07/1999' && gender=='Male'  && MockBack ){\r\n        //     this.setState({SignedUp: true})\r\n        //     sessionStorage.setItem(\"token\",\"asdfjfskfbsfgyfewjsfdk\")\r\n        // }\r\n        if (!MockBack){\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: { \r\n                'Content-Type': 'application/x-www-form-urlencoded',  \r\n                'Accept': 'application/json'},\r\n                body: new URLSearchParams({\r\n                    'email':email,\r\n                    'confirmEmail':confirmEmail,\r\n                    'password':password,\r\n                    'nickname': nickName,\r\n                    'birthdate':date,\r\n                    'gender':gender\r\n                })\r\n            };\r\n            console.log(requestOptions.body)\r\n            fetch('http://23.96.41.241/api/signup', requestOptions)\r\n            .then(console.log(\"fetching successfuly\"))\r\n            .then(response => {\r\n                if (response.status < 200 || response.status >= 300) {\r\n                    throw new Error(response.statusText);\r\n                }\r\n                return response.json();\r\n            }).catch(function(error){\r\n                console.log(error)\r\n            })\r\n            .then((token)=>{\r\n                console.log('the token is ',token)\r\n                sessionStorage.setItem('token',token)\r\n                if(token){this.setState({SignedUp:true})}\r\n            })\r\n        }\r\n    let token = sessionStorage.getItem('token')\r\n    console.log(token)\r\n    }\r\n    render(){\r\n        if (this.state.SignedUp == true){\r\n            return <Redirect to='/WebFrame'></Redirect>\r\n        }\r\n        return(\r\n            <div className=\"tl\">            \r\n                <form onSubmit={this.SubmitForm} className=\"tl\" >\r\n                    <div class=\"row\" >\r\n                        <input\r\n                            className=\"SignUp_input\"\r\n                            type=\"text\"\r\n                            name='email'\r\n                            placeholder='Email address '\r\n                            className=\"form-control\"\r\n                            value={this.state.email}\r\n                            onChange={event=>this.onSignUpChange(event)}       \r\n                        />\r\n                    </div>\r\n                    <div style={{ fontSize: 12, color: \"red\" }}>\r\n                        {this.state.emailError}\r\n                    </div>\r\n                    <br></br>\r\n                    <div class=\"row\" >\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"tl\"\r\n                            name='confirmEmail'\r\n                            placeholder='Confirm email'\r\n                            className=\"form-control\"\r\n                            value={this.state.confirmEmail}\r\n                            onChange={event=>this.onSignUpChange(event)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ fontSize: 12, color: \"red\" }}>\r\n                        {this.state.confirmEmailError}\r\n                    </div>\r\n                    <br></br>\r\n                    <div class=\"row\">\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"SignUp_input\"\r\n                            name='password'\r\n                            placeholder='Password'\r\n                            className=\"form-control\"\r\n                            value={this.state.password}\r\n                            onChange={event=>this.onSignUpChange(event)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ fontSize: 12, color: \"red\" }}>\r\n                        {this.state.passwordError}\r\n                    </div>\r\n                    <br></br>\r\n                    <div class=\"row\" >\r\n                        <input\r\n                            className=\"SignUp_input\"\r\n                            type=\"text\"\r\n                            name='nickName'\r\n                            placeholder='What should we call you?'\r\n                            className=\"form-control\"\r\n                            value={this.state.nickName}\r\n                            onChange={event=>this.onSignUpChange(event)}\r\n                        />\r\n                    </div>\r\n                    <div style={{ fontSize: 12, color: \"red\" }}>\r\n                        {this.state.nickError}\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <label className=\"SignUp_birth_label\"> Date of birth    </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            name='date'\r\n                            className=\"SignUp_input\"\r\n                            placeholder='Date'\r\n                            className=\"form-control\"\r\n                            min=\"1950-01-01\" max=\"2010-12-31\" required\r\n                            value={this.state.date}\r\n                            onChange={event=>this.onSignUpChange(event)}\r\n                        />\r\n                    </div>\r\n                    <br></br>\r\n                    <div class=\"row\" className='tl'>\r\n                        <p className=\"SignUp_p_gray\" className='tl'>\r\n                            <label class=\"SignUp_radiolabel\"><input className=\"SignUp_input\" type=\"radio\"  name=\"gender\" value=\"male\" onChange={event=>this.onSignUpChange(event)}/>Male</label>\r\n                            <label class=\"SignUp_radiolabel\"><input className=\"SignUp_input\" type=\"radio\" name=\"gender\" value=\"female\" onChange={event=>this.onSignUpChange(event)}/>Female</label>\r\n                            <div style={{ fontSize: 12, color: \"red\" }}>\r\n                                {this.state.genderError}\r\n                            </div>\r\n                        </p> \r\n                    </div>\r\n                    \r\n                    <div class=\"row\" class=\"form-check\" >\r\n                        <p className=\"SignUp_p_gray_label\"><label> \r\n                        <input\r\n                            className=\"SignUp_input\" \r\n                            type=\"checkbox\"\r\n                            name='checked'\r\n                            value={this.state.checked}\r\n                            onChange={event=>this.onSignUpChange(event)}  \r\n                        />\r\n                        Share my registration data with Spotify's content providers for marketing purposes. \r\n                        </label></p>\r\n                    </div>\r\n                    <div className='tc'>            \r\n                <div>\r\n                    <p className=\"tc\" className=\"SignUp_p_black\">\r\n                        By clicking on Sign up, you agree to Spotify's <a className=\"SignUp_a\" href=\"#\" >Terms and Conditions of Use</a>.\r\n                        <br></br>\r\n                    </p>\r\n                    <p className=\"tc\" className=\"SignUp_p_black\">  To learn more about how Spotify collects, uses, shares and protects your personal data please read Spotify's <a className=\"SignUp_a\" href=\"#\" >Privacy Policy</a>. </p>\r\n                </div>\r\n                <div >\r\n                    <button type='submit' className=\" SignUp_button SignUp_button_Signup\"> SIGN UP </button>\r\n                </div>\r\n                <div>\r\n                    <p className='tc' className=\"SignUp_p_black\" >\r\n                        Already have an account? \r\n                        {/* <Link to=\"/Login/\" target=\"_blank\"> Login </Link> */}\r\n                        <Link to='Login'><a className=\"SignUp_a\" href=\"#\"> Login</a></Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n} \r\nexport default SignUpForm;"]},"metadata":{},"sourceType":"module"}